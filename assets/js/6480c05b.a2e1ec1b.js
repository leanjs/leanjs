"use strict";(self.webpackChunk_leanjs_website=self.webpackChunk_leanjs_website||[]).push([[126],{5318:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>b});var a=t(7378);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=a.createContext({}),p=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},c=function(e){var n=p(e.components);return a.createElement(s.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),d=p(t),b=r,m=d["".concat(s,".").concat(b)]||d[b]||u[b]||l;return t?a.createElement(m,o(o({ref:n},c),{},{components:t})):a.createElement(m,o({ref:n},c))}));function b(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=t.length,o=new Array(l);o[0]=d;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var p=2;p<l;p++)o[p]=t[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},8094:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>p});var a=t(5773),r=(t(7378),t(5318));const l={},o="@leanjs/webpack",i={unversionedId:"webpack/README",id:"webpack/README",title:"@leanjs/webpack",description:"yarn add -D @leanjs/webpack webpack",source:"@site/../packages/webpack/README.md",sourceDirName:"webpack",slug:"/webpack/",permalink:"/packages/webpack/",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"@leanjs/vue-router",permalink:"/packages/vue-router/"},next:{title:"@leanjs/webpack-react",permalink:"/packages/webpack-react/"}},s={},p=[{value:"RemoteWebpackPlugin",id:"remotewebpackplugin",level:2},{value:"Usage",id:"usage",level:3},{value:"API",id:"api",level:3},{value:"HostWebpackPlugin",id:"hostwebpackplugin",level:2},{value:"Usage",id:"usage-1",level:3},{value:"API",id:"api-1",level:3}],c={toc:p};function u(e){let{components:n,...t}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"leanjswebpack"},"@leanjs/webpack"),(0,r.kt)("h1",{id:"installation"},"Installation"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"yarn add -D @leanjs/webpack webpack")),(0,r.kt)("p",null,"It exports Webpack plugins to implement LeanJS micro-apps."),(0,r.kt)("h2",{id:"remotewebpackplugin"},"RemoteWebpackPlugin"),(0,r.kt)("p",null,"This plugin is an abstractions built on top of the following Webpack plugins:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"ModuleFederationPlugin from ",(0,r.kt)("inlineCode",{parentName:"li"},"webpack/lib/container/ModuleFederationPlugin")),(0,r.kt)("li",{parentName:"ul"},"HtmlWebpackPlugin from ",(0,r.kt)("inlineCode",{parentName:"li"},"html-webpack-plugin")),(0,r.kt)("li",{parentName:"ul"},"VirtualModulesPlugin from ",(0,r.kt)("inlineCode",{parentName:"li"},"webpack-virtual-modules"))),(0,r.kt)("h3",{id:"usage"},"Usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const { RemoteWebpackPlugin } = require("@leanjs/webpack");\n\nmodule.exports = {\n  plugins: [new RemoteWebpackPlugin()],\n};\n')),(0,r.kt)("h3",{id:"api"},"API"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"RemoteWebpackPlugin(config: RemoteWebpackOptions)")," accepts the following arguments"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"interface RemoteWebpackOptions {\n  shared?: Record<string, string | SharedDependencies>;\n  shareAll?: boolean;\n}\n\ninterface SharedDependencies {\n  /**\n   * Include the provided and fallback module directly instead behind an async request. This allows to use this shared module in initial load too. All possible shared modules need to be eager too.\n   */\n  eager?: boolean;\n\n  /**\n   * Version requirement from module in share scope.\n   */\n  requiredVersion?: string | false;\n\n  /**\n   * Allow only a single version of the shared module in share scope (disabled by default).\n   */\n  singleton?: boolean;\n\n  /**\n   * Do not accept shared module if version is not valid (defaults to yes, if local fallback module is available and shared module is not a singleton, otherwise no, has no effect if there is no required version specified).\n   */\n  strictVersion?: boolean;\n\n  /**\n   * Version of the provided module. Will replace lower matching versions, but not higher.\n   */\n  version?: string | false;\n}\n")),(0,r.kt)("h2",{id:"hostwebpackplugin"},"HostWebpackPlugin"),(0,r.kt)("p",null,"This plugin is an abstractions built on top of the following Webpack plugins:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"ModuleFederationPlugin from ",(0,r.kt)("inlineCode",{parentName:"li"},"webpack/lib/container/ModuleFederationPlugin"))),(0,r.kt)("h3",{id:"usage-1"},"Usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const { HostWebpackPlugin } = require("@leanjs/webpack");\n\nmodule.exports = {\n  plugins: [new HostWebpackPlugin()],\n};\n')),(0,r.kt)("h3",{id:"api-1"},"API"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"HostWebpackPlugin(config: HostWebpackOptions)")," accepts the following arguments"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"interface RemoteWebpackOptions {\n  shared?: Record<string, string | SharedDependencies>;\n  shareAll?: boolean;\n}\n\ninterface SharedDependencies {\n  /**\n   * Include the provided and fallback module directly instead behind an async request. This allows to use this shared module in initial load too. All possible shared modules need to be eager too.\n   */\n  eager?: boolean;\n\n  /**\n   * Version requirement from module in share scope.\n   */\n  requiredVersion?: string | false;\n\n  /**\n   * Allow only a single version of the shared module in share scope (disabled by default).\n   */\n  singleton?: boolean;\n\n  /**\n   * Do not accept shared module if version is not valid (defaults to yes, if local fallback module is available and shared module is not a singleton, otherwise no, has no effect if there is no required version specified).\n   */\n  strictVersion?: boolean;\n\n  /**\n   * Version of the provided module. Will replace lower matching versions, but not higher.\n   */\n  version?: string | false;\n}\n")))}u.isMDXComponent=!0}}]);